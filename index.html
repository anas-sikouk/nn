<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Darija Academy | L'Excellence du Dialecte Marocain</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700;900&family=Amiri:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <style>
        :root {
            --morocco-red: #c1272d;
            --morocco-green: #006233;
            --gold: #d4af37;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #0a0a0a;
            color: #ffffff;
            overflow-x: hidden;
        }

        .arabic-font { font-family: 'Amiri', serif; }

        /* Background 3D Effect */
        .bg-3d-mesh {
            background: 
                radial-gradient(at 0% 0%, rgba(193, 39, 45, 0.15) 0, transparent 50%), 
                radial-gradient(at 100% 100%, rgba(0, 98, 51, 0.15) 0, transparent 50%);
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Glassmorphism */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .glass-card:hover {
            transform: translateY(-12px) scale(1.02);
            border-color: var(--morocco-green);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1a1a1a; }
        ::-webkit-scrollbar-thumb { background: var(--morocco-red); border-radius: 10px; }

        /* Hero Text Animation */
        .text-gradient {
            background: linear-gradient(to right, #ffffff, var(--gold), #ffffff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: shine 3s linear infinite;
        }

        @keyframes shine { to { background-position: 200% center; } }

        /* 3D Chatbot Floating */
        .chatbot-sphere {
            animation: float 4s ease-in-out infinite;
            background: linear-gradient(135deg, var(--morocco-red), var(--morocco-green));
            box-shadow: 0 0 30px rgba(0, 98, 51, 0.5);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        .zellige-pattern {
            background-image: url('https://www.transparenttextures.com/patterns/black-linen.png');
            opacity: 0.1;
        }
    </style>
</head>
<body>

    <div class="bg-3d-mesh"></div>

    <nav class="fixed w-full z-50 glass-card border-none px-6 py-4 flex justify-between items-center mt-4 mx-auto max-w-7xl rounded-full left-0 right-0">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-red-600 rounded-full flex items-center justify-center font-bold border-2 border-green-500">DA</div>
            <span class="text-xl font-black tracking-tighter">DARIJA ACADEMY</span>
        </div>
        <div class="hidden lg:flex items-center gap-10 font-semibold text-sm uppercase tracking-widest">
            <a href="#home" class="hover:text-green-500 transition">Accueil</a>
            <a href="#about" class="hover:text-green-500 transition">L'Acad√©mie</a>
            <a href="#services" class="hover:text-green-500 transition">Programmes</a>
            <a href="#reviews" class="hover:text-green-500 transition">Avis</a>
        </div>
        <div class="flex items-center gap-4">
            <a href="#signup" class="bg-white text-black px-6 py-2 rounded-full font-bold hover:bg-green-600 hover:text-white transition duration-300">Rejoindre</a>
        </div>
    </nav>

    <section id="home" class="relative min-h-screen flex items-center justify-center pt-20 overflow-hidden">
        <div class="container mx-auto px-6 grid lg:grid-cols-2 gap-12 items-center">
            <div data-aos="fade-right">
                <span class="text-green-500 font-bold tracking-widest uppercase mb-4 block text-sm">Bienvenue au Royaume de l'Apprentissage</span>
                <h1 class="text-6xl lg:text-8xl font-black leading-none mb-6">Parlez la <br><span class="text-gradient italic">Darija</span> avec <span class="text-red-600">Fiert√©.</span></h1>
                <p class="text-lg text-gray-400 max-w-lg mb-8 leading-relaxed">
                    Une immersion totale dans la culture marocaine gr√¢ce √† une p√©dagogie innovante assist√©e par IA. Apprenez le dialecte le plus riche au monde.
                </p>
                <div class="flex flex-wrap gap-4">
                    <button class="bg-red-600 hover:bg-red-700 px-8 py-4 rounded-2xl font-black text-lg transition shadow-lg shadow-red-900/40">COMMENCER ICI</button>
                    <div class="flex -space-x-3 items-center">
                        <img class="w-12 h-12 rounded-full border-2 border-black" src="https://i.pravatar.cc/100?u=1">
                        <img class="w-12 h-12 rounded-full border-2 border-black" src="https://i.pravatar.cc/100?u=2">
                        <img class="w-12 h-12 rounded-full border-2 border-black" src="https://i.pravatar.cc/100?u=3">
                        <span class="ml-4 text-sm font-bold">+2k √âtudiants</span>
                    </div>
                </div>
            </div>
            <div class="relative" data-aos="zoom-in-left">
                <div class="absolute -inset-4 bg-gradient-to-r from-red-600 to-green-600 rounded-full blur-3xl opacity-20"></div>
                <img src="https://images.unsplash.com/photo-1539667468225-8df667dca00c?auto=format&fit=crop&w=1000&q=80" alt="Culture Marocaine" class="rounded-[40px] shadow-2xl border-4 border-white/10 relative z-10">
            </div>
        </div>
    </section>

    <section class="py-20 bg-white/5 relative z-10">
        <div class="container mx-auto px-6 grid md:grid-cols-4 gap-8">
            <div class="text-center p-8 glass-card rounded-3xl" data-aos="fade-up" data-aos-delay="100">
                <i data-lucide="users-2" class="mx-auto mb-4 text-red-500" size="40"></i>
                <h3 class="text-4xl font-black mb-2">2,500</h3>
                <p class="text-gray-400 uppercase text-xs tracking-widest">Dipl√¥m√©s</p>
            </div>
            <div class="text-center p-8 glass-card rounded-3xl" data-aos="fade-up" data-aos-delay="200">
                <i data-lucide="globe" class="mx-auto mb-4 text-green-500" size="40"></i>
                <h3 class="text-4xl font-black mb-2">45</h3>
                <p class="text-gray-400 uppercase text-xs tracking-widest">Nationalit√©s</p>
            </div>
            <div class="text-center p-8 glass-card rounded-3xl" data-aos="fade-up" data-aos-delay="300">
                <i data-lucide="book-open" class="mx-auto mb-4 text-red-500" size="40"></i>
                <h3 class="text-4xl font-black mb-2">120</h3>
                <p class="text-gray-400 uppercase text-xs tracking-widest">Modules Vid√©o</p>
            </div>
            <div class="text-center p-8 glass-card rounded-3xl" data-aos="fade-up" data-aos-delay="400">
                <i data-lucide="award" class="mx-auto mb-4 text-green-500" size="40"></i>
                <h3 class="text-4xl font-black mb-2">100%</h3>
                <p class="text-gray-400 uppercase text-xs tracking-widest">Passion</p>
            </div>
        </div>
    </section>

    <section id="services" class="py-32 relative">
        <div class="text-center mb-20 px-6">
            <h2 class="text-5xl font-black mb-4">Investissez dans votre <span class="text-green-500">Futur</span></h2>
            <p class="text-gray-400">Des tarifs transparents pour une qualit√© royale.</p>
        </div>
        <div class="container mx-auto px-6 grid lg:grid-cols-3 gap-10">
            <div class="glass-card p-10 rounded-[40px] border-t-4 border-red-600" data-aos="fade-up">
                <div class="mb-8">
                    <h3 class="text-2xl font-bold mb-2">Pack D√©couverte</h3>
                    <p class="text-gray-400 text-sm">Id√©al pour les touristes et curieux.</p>
                </div>
                <div class="text-5xl font-black mb-8 italic">199 <span class="text-xl">MAD</span></div>
                <ul class="space-y-4 mb-10 text-gray-300">
                    <li class="flex items-center gap-3"><i data-lucide="check-circle-2" class="text-green-500"></i> Vocabulaire de base</li>
                    <li class="flex items-center gap-3"><i data-lucide="check-circle-2" class="text-green-500"></i> Acc√®s plateforme 24/7</li>
                    <li class="flex items-center gap-3 text-gray-600"><i data-lucide="x" class="text-red-500"></i> Coaching personnalis√©</li>
                </ul>
                <button onclick="openRegister('D√©couverte')" class="w-full py-4 rounded-2xl border-2 border-white/20 font-bold hover:bg-white hover:text-black transition">S√âLECTIONNER</button>
            </div>

            <div class="glass-card p-10 rounded-[40px] border-t-8 border-green-500 transform lg:-translate-y-8 bg-white/5 relative overflow-hidden" data-aos="fade-up" data-aos-delay="200">
                <div class="absolute top-5 right-5 bg-green-500 text-xs font-black px-4 py-1 rounded-full animate-pulse">RECOMMAND√â</div>
                <div class="mb-8">
                    <h3 class="text-2xl font-bold mb-2">Pack Immersion</h3>
                    <p class="text-gray-400 text-sm">Pour les expatri√©s et conjoints.</p>
                </div>
                <div class="text-5xl font-black mb-8 italic">499 <span class="text-xl">MAD</span></div>
                <ul class="space-y-4 mb-10 text-gray-200">
                    <li class="flex items-center gap-3"><i data-lucide="check-circle-2" class="text-green-500"></i> Conversation courante</li>
                    <li class="flex items-center gap-3"><i data-lucide="check-circle-2" class="text-green-500"></i> Ateliers culturels LIVE</li>
                    <li class="flex items-center gap-3"><i data-lucide="check-circle-2" class="text-green-500"></i> Assistant IA Illimit√©</li>
                </ul>
                <button onclick="openRegister('Immersion')" class="w-full py-4 rounded-2xl bg-green-600 font-black text-lg hover:bg-white hover:text-green-800 transition shadow-xl shadow-green-900/20">CHOISIR CE PACK</button>
            </div>

            <div class="glass-card p-10 rounded-[40px] border-t-4 border-red-600" data-aos="fade-up" data-aos-delay="400">
                <div class="mb-8">
                    <h3 class="text-2xl font-bold mb-2">Pack Excellence</h3>
                    <p class="text-gray-400 text-sm">Maitrise totale et certification.</p>
                </div>
                <div class="text-5xl font-black mb-8 italic">899 <span class="text-xl">MAD</span></div>
                <ul class="space-y-4 mb-10 text-gray-300">
                    <li class="flex items-center gap-3"><i data-lucide="check-circle-2" class="text-green-500"></i> Mentorat 1-to-1</li>
                    <li class="flex items-center gap-3"><i data-lucide="check-circle-2" class="text-green-500"></i> Stage d'immersion physique</li>
                    <li class="flex items-center gap-3"><i data-lucide="check-circle-2" class="text-green-500"></i> Support prioritaire</li>
                </ul>
                <button onclick="openRegister('Excellence')" class="w-full py-4 rounded-2xl border-2 border-white/20 font-bold hover:bg-white hover:text-black transition">S√âLECTIONNER</button>
            </div>
        </div>
    </section>

    <section class="py-20 px-6 container mx-auto">
        <h2 class="text-4xl font-black mb-12 flex items-center gap-4">
            <span class="w-12 h-1 bg-red-600"></span> Actualit√©s de l'Acad√©mie
        </h2>
        <div class="grid lg:grid-cols-2 gap-10">
            <div class="group relative overflow-hidden rounded-[30px] h-[400px]" data-aos="fade-right">
                <img src="https://images.unsplash.com/photo-1528154032328-a651593c6b8c?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent p-10 flex flex-col justify-end">
                    <span class="bg-red-600 w-fit px-4 py-1 rounded text-xs mb-4">√âV√âNEMENT</span>
                    <h4 class="text-2xl font-bold">Ouverture des inscriptions Session Mars 2026</h4>
                    <p class="text-gray-300 mt-2">Profitez de -15% avec le code MAROC2026.</p>
                </div>
            </div>
            <div class="glass-card p-10 flex flex-col justify-center" data-aos="fade-left">
                <h4 class="text-3xl font-black mb-6 text-green-500">Recrutement Urgent</h4>
                <p class="text-gray-300 mb-8 leading-relaxed">Nous recherchons des formateurs passionn√©s par la transmission de la culture Darija. Vous avez une fibre p√©dagogique ? Rejoignez l'√©quipe de Hajar & Anas.</p>
                <form class="space-y-4">
                    <input type="text" placeholder="Nom complet" class="w-full bg-white/5 border border-white/10 p-4 rounded-xl outline-none focus:border-green-500">
                    <button class="bg-white text-black font-bold px-8 py-3 rounded-xl hover:bg-green-600 hover:text-white transition">POSTULER MAINTENANT</button>
                </form>
            </div>
        </div>
    </section>

    <section id="reviews" class="py-32 bg-zinc-900/50">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-end mb-16 gap-6">
                <div>
                    <h2 class="text-5xl font-black italic">La voix de nos <span class="text-red-500">√âtudiants</span></h2>
                    <p class="text-gray-400 mt-4">Plus de 500 avis v√©rifi√©s sur Trustpilot.</p>
                </div>
                <button onclick="toggleReviewForm()" class="bg-green-600 px-6 py-3 rounded-full font-bold flex items-center gap-2 hover:bg-red-600 transition">
                    <i data-lucide="plus"></i> √âcrire un avis
                </button>
            </div>

            <div id="reviewDisplay" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>

            <div id="reviewForm" class="hidden mt-16 max-w-2xl mx-auto glass-card p-10 rounded-[30px] border-2 border-green-500/30">
                <h3 class="text-2xl font-bold mb-6">Partagez votre exp√©rience</h3>
                <div class="grid md:grid-cols-2 gap-4 mb-4">
                    <input id="revName" type="text" placeholder="Nom" class="bg-white/5 p-4 rounded-xl border border-white/10 outline-none">
                    <select id="revType" class="bg-white/5 p-4 rounded-xl border border-white/10 outline-none text-gray-400">
                        <option>Expatri√©</option>
                        <option>√âtudiant(e)</option>
                        <option>Formateur</option>
                        <option>MRE</option>
                    </select>
                </div>
                <textarea id="revText" placeholder="Votre message..." class="w-full bg-white/5 p-4 rounded-xl border border-white/10 outline-none h-32 mb-4"></textarea>
                <button onclick="submitNewReview()" class="w-full bg-white text-black py-4 rounded-xl font-bold hover:bg-green-600 transition">PUBLIER L'AVIS</button>
            </div>
        </div>
    </section>

    <section class="py-32 container mx-auto px-6 max-w-4xl">
        <h2 class="text-4xl font-black mb-12 text-center">Questions <span class="text-red-600 underline">Fr√©quentes</span></h2>
        <div class="space-y-4">
            <div class="faq-item glass-card p-6 rounded-2xl cursor-pointer" onclick="this.classList.toggle('bg-white/10')">
                <div class="flex justify-between items-center font-bold text-lg">
                    <span>Dois-je conna√Ætre l'Arabe Classique ?</span>
                    <i data-lucide="chevron-down"></i>
                </div>
                <p class="mt-4 text-gray-400 hidden">Non, la Darija est un dialecte distinct. Notre m√©thode commence de z√©ro sans pr√©-requis.</p>
            </div>
            </div>
    </section>

    <div id="signupModal" class="fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-xl hidden p-4">
        <div class="max-w-4xl w-full grid lg:grid-cols-2 glass-card border-none rounded-[40px] overflow-hidden">
            <div class="p-12">
                <h2 id="modalPackTitle" class="text-4xl font-black mb-4">Pack Immersion</h2>
                <p class="text-gray-400 mb-8">Remplissez vos informations pour d√©buter l'aventure.</p>
                <form onsubmit="handleFinalSubmit(event)" class="space-y-4">
                    <input required type="text" placeholder="Nom Complet" class="w-full bg-white/5 border border-white/10 p-4 rounded-2xl outline-none focus:border-red-500 transition">
                    <input required type="email" placeholder="Email Professionnel" class="w-full bg-white/5 border border-white/10 p-4 rounded-2xl outline-none focus:border-red-500 transition">
                    <div class="flex items-center gap-3 py-4">
                        <input type="checkbox" required class="w-5 h-5 accent-green-500">
                        <span class="text-xs text-gray-400">J'accepte les conditions de Darija Academy.</span>
                    </div>
                    <button class="w-full bg-red-600 py-5 rounded-2xl font-black text-xl hover:scale-105 transition duration-300">CONFIRMER MON INSCRIPTION</button>
                </form>
            </div>
            <div class="hidden lg:block relative">
                <img src="https://images.unsplash.com/photo-1548013146-72479768bbaa?auto=format&fit=crop&w=800&q=80" class="h-full w-full object-cover">
                <div class="absolute inset-0 bg-red-900/40 mix-blend-multiply"></div>
            </div>
        </div>
    </div>

    <div id="successPage" class="fixed inset-0 z-[200] bg-zinc-950 flex flex-col items-center justify-center text-center hidden p-6">
        <div class="w-32 h-32 bg-green-500 rounded-full flex items-center justify-center mb-8 animate-bounce shadow-2xl shadow-green-500/50">
            <i data-lucide="party-popper" size="60"></i>
        </div>
        <h1 class="text-7xl font-black text-gradient mb-6">MABROUK ! üéâ</h1>
        <p class="text-2xl text-gray-400 max-w-2xl leading-relaxed">
            "Celui qui ne voyage pas ne conna√Æt pas la valeur des hommes." <br>
            <span class="text-white italic font-bold mt-4 block">- Proverbe Marocain</span>
        </p>
        <p class="mt-8 text-green-500 font-bold uppercase tracking-widest">Un mail de bienvenue vous attend.</p>
        <button onclick="location.reload()" class="mt-12 bg-white text-black px-12 py-4 rounded-full font-black hover:bg-red-600 hover:text-white transition">RETOUR √Ä L'ACCUEIL</button>
    </div>

    <div class="fixed bottom-8 right-8 z-[90]">
        <div onclick="toggleChat()" class="chatbot-sphere w-16 h-16 rounded-full flex items-center justify-center cursor-pointer group">
            <i data-lucide="bot" class="text-white group-hover:scale-110 transition"></i>
        </div>
        <div id="chatBox" class="hidden absolute bottom-20 right-0 w-96 glass-card rounded-3xl p-6 border-2 border-white/20">
            <div class="flex items-center gap-3 mb-4 border-b border-white/10 pb-4">
                <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                <span class="font-bold">IA DARIJA 3D (V3.1)</span>
            </div>
            <div id="chatMessages" class="h-64 overflow-y-auto space-y-4 mb-4 text-sm scroll-smooth pr-2">
                <div class="bg-white/10 p-3 rounded-2xl rounded-tl-none italic">Salam ! Je suis votre guide virtuel. Comment dit-on "Le th√© est d√©licieux" en Darija ? Posez-moi vos questions !</div>
            </div>
            <div class="flex gap-2">
                <input id="chatInput" type="text" placeholder="√âcrire ici..." class="flex-1 bg-white/5 border border-white/10 p-3 rounded-xl outline-none" onkeypress="if(event.key==='Enter') sendChat()">
                <button onclick="sendChat()" class="bg-green-600 p-3 rounded-xl"><i data-lucide="send" size="18"></i></button>
            </div>
        </div>
    </div>

    <div class="fixed left-6 bottom-8 z-[90] flex flex-col gap-4">
        <a href="https://wa.me/21260000000" class="w-12 h-12 glass-card flex items-center justify-center rounded-full text-green-500 hover:bg-green-500 hover:text-white transition"><i data-lucide="phone"></i></a>
        <a href="#" class="w-12 h-12 glass-card flex items-center justify-center rounded-full text-pink-500 hover:bg-pink-500 hover:text-white transition"><i data-lucide="instagram"></i></a>
        <a href="#" class="w-12 h-12 glass-card flex items-center justify-center rounded-full text-blue-400 hover:bg-blue-400 hover:text-white transition"><i data-lucide="video"></i></a>
    </div>

    <footer class="py-20 border-t border-white/10 mt-20">
        <div class="container mx-auto px-6 text-center">
            <div class="flex flex-col items-center mb-10">
                <div class="text-4xl font-black mb-4">DARIJA ACADEMY</div>
                <div class="h-1 w-20 bg-red-600 mb-6"></div>
                <p class="max-w-md text-gray-500 uppercase tracking-widest text-xs">Innovation - Culture - Transmission</p>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-10 text-left max-w-4xl mx-auto mb-20">
                <div>
                    <h5 class="font-bold mb-4">Lien rapides</h5>
                    <ul class="text-gray-500 text-sm space-y-2">
                        <li>Mentions l√©gales</li>
                        <li>Politique de cookies</li>
                        <li>Conditions de vente</li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-bold mb-4">Contact</h5>
                    <ul class="text-gray-500 text-sm space-y-2">
                        <li>contact@darija.ma</li>
                        <li>Casablanca, Maroc</li>
                    </ul>
                </div>
            </div>
            <div class="text-xs text-gray-600 font-mono">
                DEVELOPED BY <span class="text-white">ANAS SIKOUK</span> & <span class="text-white">HAJAR NEBHANI</span> | 2026 &copy;
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 1200, once: false });
        lucide.createIcons();

        // Data Management
        let dataAvis = [
            { name: "Julian Smith", type: "Expatri√©", text: "Incredible method. I can now haggle at the souks with confidence!", photo: "https://i.pravatar.cc/100?u=a" },
            { name: "Fatima Zahra", type: "MRE", text: "Enfin une acad√©mie qui respecte les nuances du dialecte local.", photo: "https://i.pravatar.cc/100?u=b" },
            { name: "Dr. Ahmed", type: "Formateur", text: "Un outil p√©dagogique r√©volutionnaire pour le Maroc.", photo: "https://i.pravatar.cc/100?u=c" },
            { name: "Sophie", type: "√âtudiant(e)", text: "Les sessions live sont le point fort. On s'amuse √©norm√©ment.", photo: "https://i.pravatar.cc/100?u=d" },
            { name: "Luca", type: "Expatri√©", text: "Le pack Immersion a chang√© ma vie sociale √† Marrakech.", photo: "https://i.pravatar.cc/100?u=e" }
        ];

        // Functions
        function renderAvis() {
            const container = document.getElementById('reviewDisplay');
            container.innerHTML = dataAvis.map(a => `
                <div class="glass-card p-8 rounded-3xl" data-aos="zoom-in">
                    <div class="flex items-center gap-4 mb-6">
                        <img src="${a.photo}" class="w-14 h-14 rounded-full border-2 border-red-500">
                        <div>
                            <h4 class="font-black">${a.name}</h4>
                            <span class="text-xs text-green-500 font-bold uppercase">${a.type}</span>
                        </div>
                    </div>
                    <p class="text-gray-300 italic">"${a.text}"</p>
                    <div class="mt-6 flex text-yellow-500 gap-1">
                        ${'<i data-lucide="star" fill="currentColor" size="14"></i>'.repeat(5)}
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }
        renderAvis();

        function toggleReviewForm() {
            document.getElementById('reviewForm').classList.toggle('hidden');
        }

        function submitNewReview() {
            const name = document.getElementById('revName').value;
            const text = document.getElementById('revText').value;
            const type = document.getElementById('revType').value;
            
            if(name && text) {
                dataAvis.unshift({ name, type, text, photo: `https://i.pravatar.cc/100?u=${Math.random()}` });
                renderAvis();
                toggleReviewForm();
                alert("Votre avis a √©t√© soumis avec succ√®s !");
            }
        }

        function openRegister(pack) {
            document.getElementById('modalPackTitle').innerText = "Pack " + pack;
            document.getElementById('signupModal').classList.remove('hidden');
        }

        function handleFinalSubmit(e) {
            e.preventDefault();
            document.getElementById('signupModal').classList.add('hidden');
            document.getElementById('successPage').classList.remove('hidden');
            // Trigger Confetti here if library added
        }

        function toggleChat() {
            document.getElementById('chatBox').classList.toggle('hidden');
        }

        function sendChat() {
            const input = document.getElementById('chatInput');
            const history = document.getElementById('chatMessages');
            if(input.value.trim() === "") return;

            history.innerHTML += `<div class="bg-green-600/20 p-3 rounded-2xl rounded-tr-none text-right ml-10 mb-2">${input.value}</div>`;
            
            const userText = input.value.toLowerCase();
            input.value = "";

            setTimeout(() => {
                let reply = "D'accord ! Pour cette question pr√©cise, un de nos formateurs vous contactera. Mais saviez-vous que 'Shukran' veut dire merci ?";
                if(userText.includes("prix")) reply = "Nos packs commencent √† partir de 199 MAD. Le pack Immersion est le plus pris√© !";
                if(userText.includes("salam")) reply = "Wa Alaykum Salam ! Labas ? (Comment √ßa va ?)";
                
                history.innerHTML += `<div class="bg-white/10 p-3 rounded-2xl rounded-tl-none mb-2 border-l-4 border-red-500">${reply}</div>`;
                history.scrollTop = history.scrollHeight;
            }, 1000);
        }

        // Accordion effect for FAQ
        document.querySelectorAll('.faq-item').forEach(item => {
            item.addEventListener('click', () => {
                item.querySelector('p').classList.toggle('hidden');
                item.querySelector('i').classList.toggle('rotate-180');
            });
        });
    </script>
</body>
</html>
